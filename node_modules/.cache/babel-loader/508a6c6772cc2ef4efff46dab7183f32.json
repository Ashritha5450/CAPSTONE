{"ast":null,"code":"import _classCallCheck from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/MU20385450/Downloads/react capstone/src/includes/signInForm.js\";\nimport React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport UserApi from '../data/UserApi';\nimport UserActions from '../actions/UserActions';\nimport { withRouter } from 'react-router-dom';\nimport { Spinner } from 'react-bootstrap';\nimport './spinner.css';\nvar SignInForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(SignInForm, _React$Component);\n  function SignInForm(props) {\n    var _this;\n    _classCallCheck(this, SignInForm);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignInForm).call(this, props));\n    _this.state = {\n      isLoaded: true\n    };\n    return _this;\n  }\n  _createClass(SignInForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      setTimeout(function () {\n        _this2.setState({\n          isLoaded: false\n        });\n      }, 1000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      return /*#__PURE__*/React.createElement(Formik, {\n        initialValues: {\n          userId: '',\n          password: ''\n        },\n        validationSchema: Yup.object().shape({\n          userId: Yup.string().email('User Id is invalid').required('User Id is required'),\n          password: Yup.string().min(6, 'Password must be at least 6 characters').required('Password is required')\n        }),\n        onSubmit: function onSubmit(fields) {\n          UserApi.getUser(fields.userId, fields.password, function (user) {\n            if (user != undefined) {\n              UserActions.signinUser(fields.userId);\n              _this3.props.history.push('/viewProducts');\n            } else {\n              alert(\"undefined user!\");\n            }\n          });\n        },\n        render: function render(_ref) {\n          var errors = _ref.errors,\n            status = _ref.status,\n            dirty = _ref.dirty,\n            touched = _ref.touched;\n          window.onbeforeunload = dirty ? function (e) {\n            return e;\n          } : null;\n          var loaded = _this3.state.isLoaded;\n          return /*#__PURE__*/React.createElement(Form, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 21\n            }\n          }, loaded ? /*#__PURE__*/React.createElement(\"div\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 36\n            }\n          }, /*#__PURE__*/React.createElement(\"center\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 41\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"loading-spinner\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 49\n            }\n          }))) : /*#__PURE__*/React.createElement(\"div\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"form-group\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"label\", {\n            htmlFor: \"userId\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }\n          }, \"User ID\"), /*#__PURE__*/React.createElement(Field, {\n            name: \"userId\",\n            type: \"text\",\n            className: 'form-control' + (errors.userId && touched.userId ? ' is-invalid' : ''),\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }\n          }), /*#__PURE__*/React.createElement(ErrorMessage, {\n            name: \"userId\",\n            component: \"div\",\n            className: \"invalid-feedback\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }\n          })), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"form-group\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"label\", {\n            htmlFor: \"password\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 29\n            }\n          }, \"Password\"), /*#__PURE__*/React.createElement(Field, {\n            name: \"password\",\n            type: \"password\",\n            className: 'form-control' + (errors.password && touched.password ? ' is-invalid' : ''),\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }\n          }), /*#__PURE__*/React.createElement(ErrorMessage, {\n            name: \"password\",\n            component: \"div\",\n            className: \"invalid-feedback\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }\n          })), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"form-group\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary mr-2\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }\n          }, \"Sign In\"))));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 13\n        }\n      });\n    }\n  }]);\n  return SignInForm;\n}(React.Component);\nexport default withRouter(SignInForm);","map":{"version":3,"names":["React","Formik","Field","Form","ErrorMessage","Yup","UserApi","UserActions","withRouter","Spinner","SignInForm","_React$Component","_inherits","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","state","isLoaded","_createClass","key","value","componentDidMount","_this2","setTimeout","setState","render","_this3","createElement","initialValues","userId","password","validationSchema","object","shape","string","email","required","min","onSubmit","fields","getUser","user","undefined","signinUser","history","push","alert","_ref","errors","status","dirty","touched","window","onbeforeunload","e","loaded","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","htmlFor","name","type","component","Component"],"sources":["/Users/MU20385450/Downloads/react capstone/src/includes/signInForm.js"],"sourcesContent":["import React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport UserApi from '../data/UserApi'\nimport UserActions from '../actions/UserActions';\nimport { withRouter } from 'react-router-dom'\nimport { Spinner } from 'react-bootstrap';\nimport './spinner.css';\n\nclass SignInForm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isLoaded: true\n        }\n    }\n    componentDidMount() {\n        setTimeout(() => {\n            this.setState({isLoaded: false})\n        }, 1000);\n    }\n    render() {\n        return (\n            <Formik\n                initialValues={{\n                    userId: '',\n                    password: ''\n                }}\n                validationSchema={Yup.object().shape({\n                    userId: Yup.string()\n                        .email('User Id is invalid')\n                        .required('User Id is required'),\n                    password: Yup.string()\n                        .min(6, 'Password must be at least 6 characters')\n                        .required('Password is required')\n                })}\n                onSubmit={fields => {\n                    UserApi.getUser(fields.userId, fields.password, user=>{\n                        if(user != undefined) {\n                            UserActions.signinUser(fields.userId)\n                            this.props.history.push('/viewProducts')\n                        } else {\n                            alert(\"undefined user!\")\n                        }\n                    })\n                }}\n                render={({ errors, status, dirty, touched }) => {\n                    window.onbeforeunload = dirty ? e => e : null \n                    const loaded = this.state.isLoaded\n                    return (\n                        \n                    <Form>\n                        {loaded ? (<div><center><div className=\"loading-spinner\"></div></center></div>):(\n                            <div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"userId\">User ID</label>\n                            <Field name=\"userId\" type=\"text\" className={'form-control' + (errors.userId && touched.userId ? ' is-invalid' : '')} />\n                            <ErrorMessage name=\"userId\" component=\"div\" className=\"invalid-feedback\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"password\">Password</label>\n                            <Field name=\"password\" type=\"password\" className={'form-control' + (errors.password && touched.password ? ' is-invalid' : '')} />\n                            <ErrorMessage name=\"password\" component=\"div\" className=\"invalid-feedback\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <button type=\"submit\" className=\"btn btn-primary mr-2\">Sign In</button>\n                            {/* <button type=\"reset\" className=\"btn btn-secondary\">Reset</button> */}\n                        </div>\n                        </div>\n                        )}\n                    </Form>\n                        \n                )}}\n            />\n        )\n    }\n}\n\nexport default withRouter(SignInForm) "],"mappings":"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"},"metadata":{},"sourceType":"module"}