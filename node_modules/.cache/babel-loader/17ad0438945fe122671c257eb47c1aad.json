{"ast":null,"code":"import _classCallCheck from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/MU20385450/Downloads/react capstone/src/components/TopViewedProductsPage.js\";\nimport React from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport Header from '../includes/header';\nimport Footer from '../includes/footer';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Card from 'react-bootstrap/Card';\nimport ProductApi from '../data/ProductApi';\nimport _ from 'lodash';\nimport './../includes/spinner.css';\nvar TopViewedProductsPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(TopViewedProductsPage, _React$Component);\n  function TopViewedProductsPage(props) {\n    var _this;\n    _classCallCheck(this, TopViewedProductsPage);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TopViewedProductsPage).call(this, props));\n    _this.state = {\n      data: {},\n      isLoaded: true\n    };\n    return _this;\n  }\n  _createClass(TopViewedProductsPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      ProductApi.getProductViews(function (productViews) {\n        var grouped = _(productViews).groupBy('productName').value();\n        var value = _(productViews).groupBy('views').value();\n        var labelArray = productViews.productName;\n        console.log(\"Data:::\", Object.keys(grouped), productViews);\n        var data = {\n          labels: labelArray,\n          datasets: [{\n            label: \"Top Viewd Product is: \".concat(productViews.productName, \" and views are \").concat(productViews.views),\n            backgroundColor: 'rgba(75,192,192,1)',\n            borderColor: 'rgba(0,0,0,1)',\n            borderWidth: 2,\n            data: productViews.views\n            //Object.keys(grouped).map(key => grouped[key].length)\n          }]\n        };\n\n        _this2.setState({\n          data: data\n        });\n      });\n      setTimeout(function () {\n        _this2.setState({\n          isLoaded: false\n        });\n      }, 1000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }\n      }), this.state.isLoaded ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 40\n        }\n      }, /*#__PURE__*/React.createElement(\"center\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading-spinner\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 53\n        }\n      }))) : /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"#CCdabb\",\n          height: \"700px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        className: \"mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: {\n          span: 6,\n          offset: 3\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        body: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Bar, {\n        data: this.state.data,\n        options: {\n          title: {\n            display: true,\n            text: 'Top Viewed Products',\n            fontSize: 20\n          },\n          legend: {\n            display: true,\n            position: 'right'\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 33\n        }\n      })))))), /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n  return TopViewedProductsPage;\n}(React.Component);\nexport { TopViewedProductsPage as default };","map":{"version":3,"names":["React","Bar","Header","Footer","Row","Col","Container","Card","ProductApi","_","TopViewedProductsPage","_React$Component","_inherits","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","state","data","isLoaded","_createClass","key","value","componentDidMount","_this2","getProductViews","productViews","grouped","groupBy","labelArray","productName","console","log","Object","keys","labels","datasets","label","concat","views","backgroundColor","borderColor","borderWidth","setState","setTimeout","render","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","style","height","md","span","offset","body","options","title","display","text","fontSize","legend","position","Component","default"],"sources":["/Users/MU20385450/Downloads/react capstone/src/components/TopViewedProductsPage.js"],"sourcesContent":["import React from 'react';\nimport {Bar} from 'react-chartjs-2';\nimport Header from '../includes/header'\nimport Footer from '../includes/footer'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Container from 'react-bootstrap/Container'\nimport Card from 'react-bootstrap/Card'\nimport ProductApi from '../data/ProductApi';\nimport _ from 'lodash'\nimport './../includes/spinner.css';\n\nexport default class TopViewedProductsPage extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            data: {},\n            isLoaded: true\n        }\n    }\n\n    componentDidMount() {\n        ProductApi.getProductViews(productViews => {\n            const grouped = _(productViews).groupBy('productName').value()\n            const value = _(productViews).groupBy('views').value()\n            let labelArray = productViews.productName\n            console.log(\"Data:::\",Object.keys(grouped), productViews)\n           \n            const data = {\n                labels : labelArray,\n                datasets: [\n                  {\n                    label: `Top Viewd Product is: ${productViews.productName} and views are ${productViews.views}`,\n                    backgroundColor: 'rgba(75,192,192,1)',\n                    borderColor: 'rgba(0,0,0,1)',\n                    borderWidth: 2,\n                    data: productViews.views,\n                    //Object.keys(grouped).map(key => grouped[key].length)\n                  }\n                ]\n            }\n            this.setState({data})\n        })\n        setTimeout(() => {\n            this.setState({ isLoaded: false })\n        }, 1000);\n    }\n    \n    render() {\n        return (\n            <div>\n                <Header />\n                {this.state.isLoaded ? <div><center><div className=\"loading-spinner\"></div></center></div>:\n                <div style={{backgroundColor: \"#CCdabb\", height:\"700px\"}}>\n                <Container className=\"mt-5\">\n                    <Row>\n                        <Col md={{ span: 6, offset: 3 }}>\n                            <Card body>\n                                <Bar\n                                    data={this.state.data}\n                                    options={{\n                                      title:{\n                                        display:true,\n                                        text:'Top Viewed Products',\n                                        fontSize:20\n                                      },\n                                      legend:{\n                                        display:true,\n                                        position:'right'\n                                      }\n                                    }}\n                                />\n                            </Card>\n                        </Col>\n                    </Row>\n                </Container>\n                 </div>\n                }\n                <Footer />\n                </div>\n        );\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}