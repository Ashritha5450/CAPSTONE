{"ast":null,"code":"import _toConsumableArray from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/MU20385450/Downloads/react capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/MU20385450/Downloads/react capstone/src/components/ViewProductsPage.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../includes/header';\nimport Container from 'react-bootstrap/Container';\nimport CardsView from '../includes/cardsView';\nimport ProductStore from '../stores/ProductStore';\nimport InitializeActions from '../actions/InitializeProductActions';\nimport Navbar from 'react-bootstrap/Navbar';\nimport './../includes/spinner.css';\nimport ProductApi from '../data/ProductApi';\nvar AllProductsPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(AllProductsPage, _React$Component);\n  function AllProductsPage(props) {\n    var _this;\n    _classCallCheck(this, AllProductsPage);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AllProductsPage).call(this, props));\n    _this._onChange = _this._onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      products: ProductStore.getAllProducts(),\n      isLoaded: true\n    };\n    return _this;\n  }\n  _createClass(AllProductsPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      ProductStore.addChangeListener(this._onChange);\n      InitializeActions.initProducts();\n      setTimeout(function () {\n        _this2.setState({\n          isLoaded: false\n        });\n      }, 1000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      ProductStore.removeChangeListener(this._onChange);\n    }\n  }, {\n    key: \"_onChange\",\n    value: function _onChange() {\n      this.setState({\n        products: ProductStore.getAllProducts()\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var numAscending = _toConsumableArray(this.state.products).sort(function (a, b) {\n        return b.views - a.views;\n      });\n      ProductApi.addProductView([numAscending[0], numAscending[1], numAscending[2]]);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }), this.state.isLoaded ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 40\n        }\n      }, /*#__PURE__*/React.createElement(\"center\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading-spinner\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 53\n        }\n      }))) : /*#__PURE__*/React.createElement(CardsView, {\n        products: this.state.products,\n        history: this.props.history,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n  return AllProductsPage;\n}(React.Component);\nexport { AllProductsPage as default };","map":{"version":3,"names":["React","Link","Header","Container","CardsView","ProductStore","InitializeActions","Navbar","ProductApi","AllProductsPage","_React$Component","_inherits","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","_onChange","bind","_assertThisInitialized","state","products","getAllProducts","isLoaded","_createClass","key","value","componentDidMount","_this2","addChangeListener","initProducts","setTimeout","setState","componentWillUnmount","removeChangeListener","render","numAscending","_toConsumableArray","sort","a","b","views","addProductView","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","history","Component","default"],"sources":["/Users/MU20385450/Downloads/react capstone/src/components/ViewProductsPage.js"],"sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Header from '../includes/header'\nimport Container from 'react-bootstrap/Container'\nimport CardsView from '../includes/cardsView'\nimport ProductStore from '../stores/ProductStore'\nimport InitializeActions from '../actions/InitializeProductActions'\nimport Navbar from 'react-bootstrap/Navbar'\nimport './../includes/spinner.css';\nimport ProductApi from '../data/ProductApi'\n\nexport default class AllProductsPage extends React.Component {\n    constructor(props) {\n      super(props)\n      this._onChange = this._onChange.bind(this)\n      this.state = {\n        products: ProductStore.getAllProducts(),\n        isLoaded: true\n      }\n\n    }\n\n    componentDidMount() {\n        ProductStore.addChangeListener(this._onChange)\n        InitializeActions.initProducts()\n        \n        setTimeout(() => {\n            this.setState({ isLoaded: false })\n        }, 1000);\n    }\n\n    componentWillUnmount() {\n        ProductStore.removeChangeListener(this._onChange)\n    }\n\n    _onChange() {\n        this.setState({ products: ProductStore.getAllProducts() })\n    }\n\n\n    render() {\n        const numAscending = [...this.state.products].sort((a, b) => b.views - a.views);\n        ProductApi.addProductView([numAscending[0], numAscending[1], numAscending[2]])\n        return (\n            <div>\n                <Header />\n                {this.state.isLoaded ? <div><center><div className=\"loading-spinner\"></div></center></div>:\n                <CardsView products={this.state.products} history={this.props.history}/>\n                }\n            </div>\n        );\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}